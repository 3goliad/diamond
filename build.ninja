# vim: expandtab ts=2 sw=2:

cflags = -Wall -lSDL -std=c++14
emccflags = -Wall --emrun

rule cxx
  command = clang++ $cflags -o $out $in

rule ecc
  command = emcc $emccflags -o $out $in

rule cp
  command = cp $in $out

build build/assets/alpine.jpg: cp assets/alpine.jpg

build build/indy: cxx src/indy.cpp $
| build/assets/alpine.jpg

build build/indy.html | build/indy.js: ecc src/indy.cpp
